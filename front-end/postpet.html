<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/icons.css">
    <!-- <link rel="stylesheet" href="./css/home.css"> -->
    <link rel="stylesheet" href="./css/postpet.css">

    <title>Paws Safe</title>
</head>

<body>

    <header>
        <div class="container">
            <a href="./" class="logo">
                <img src="./imgs/logo.png" alt="pawsafe">
                <h3>Paws Safe</h3>
            </a>
            <ul>
                <li><a class="active" href="./index.html">Home</a></li>
                <li><a href="./adoption.html">Adoption</a></li>
                <li><a href="#">ReHoming</a></li>
                <li><a href="./contactus.html">Contact Us</a></li>
            </ul>
            <div class="auth">
                <div class="register">
                    <a href="./login.html" class="login">Login</a>
                    <a href="./signup.html" class="signup"><i class="fa-solid fa-user"></i> Sign Up</a>
                </div>
                <a href="#" class="post_pet d_none"><i class="fa-solid fa-paw"></i> Post Your Pet </a>
            </div>
        </div>

    </header>

    <main>
        <div class="form">
            <div class="form-container">

                <form>
                    <h2><i class="fa-solid fa-paw"></i> Post Your Pet</h2>

                    <div class="pet_img">
                        <input id="pet_img_input" type="file" accept="image/*" hidden>
                        <div class="input">
                            <img id="pet_img" style="display: none;"
                                src="https://images.pexels.com/photos/208773/pexels-photo-208773.jpeg" alt="">
                            <img class="icon" src="./imgs/image-gallery.png" alt="">
                        </div>
                        <p id="fileName">Add Your Pet Photo</p>
                    </div>

                    <label for="">Rehome or Foster This Pet:</label>
                    <div class="custom-select">
                        <select>
                            <option value="">Rehome or Foster This Pet</option>
                            <option value="">rehome</option>
                            <option value="">foster</option>

                        </select>
                    </div>
                    <div class="name_age">
                        <div><label for="name">Name</label>
                            <input type="text" id="name" name="name" required>
                        </div>

                        <div><label for="age">Age</label>
                            <input type="text" id="Age" name="Age" required>
                        </div>

                    </div>

                    <label for="">Category</label>
                    <div class="custom-select">
                        <select>
                            <option value="">Choose pet category </option>
                            <option value="">dog</option>
                            <option value="">cat</option>
                            <option value="">rabbit</option>
                            <option value="">bird</option>
                            <option value="">fish</option>
                            <option value="">other</option>
                        </select>
                    </div>

                    <label for="address">Address</label>
                    <input type="text" id="Address" name="Address" required placeholder="Street Address"
                        style="margin-bottom:10px;">


                    <input type="text" id="Address" name="Address" required placeholder="Street Address Line 2"
                        style="margin-bottom:10px;">
                    <div class="address">
                        <input type="text" id="Address" name="Address" required placeholder="Town/City">
                        <input type="text" id="Address" name="Address" required placeholder="Post Code">
                    </div>



                    <label for="medicalHistory">Medical history</label>
                    <div class="medical_history">
                        <textarea name="vaccinations" id="vaccinations"
                            placeholder="Is your pet up to date on vaccinations and treatments like flea, tick, or heartworm prevention?"></textarea>
                        <textarea name="medicalHistory" id="medicalHistory"
                            placeholder="Does your pet have any medical conditions, surgeries, or past injuries?"></textarea>
                        <textarea name="diet" id="diet"
                            placeholder="What is your petâ€™s diet, and any food issues or restrictions?"></textarea>
                        <textarea name="behavior" id="behavior"
                            placeholder="Does your pet have any behavior problems, like anxiety or aggression?"></textarea>

                    </div>

                    <label for="Description">Description:</label>
                    <textarea id="Description" name="Description" rows="4" required></textarea>

                    <button type="submit">Send</button>
                </form>
            </div>

            <!-- <div class="image-container">
                <img src="./imgs/faq.webp" alt="Dog and Cat">
            </div> -->
        </div>


    </main>

    <script>
        const pet_img_ele = document.querySelector(".pet_img .input")
        const pet_img_input = document.querySelector(".pet_img #pet_img_input")
        pet_img_ele.addEventListener("click", () => {
            pet_img_input.click()
            pet_img_input.addEventListener("change", function (event) {
                const file = event.target.files[0]; // Get the selected file
                if (file) {
                    const fileName = file.name;
                    function shortenFileName(filename) {
                        const lastDotIndex = filename.lastIndexOf(".");

                        if (lastDotIndex === -1) {
                            return filename.length > 20 ? filename.slice(0, 20) + "..." : filename;
                        }

                        const namePart = filename.slice(0, lastDotIndex); // File name without extension
                        const extension = filename.slice(lastDotIndex); // File extension

                        return namePart.length > 20 ? namePart.slice(0, 20) + "..." + extension : filename;
                    }
                    document.querySelector(".pet_img #fileName").textContent = shortenFileName(fileName);

                    const reader = new FileReader();
                    reader.onload = function (e) {
                        document.querySelector(".pet_img #pet_img").src = e.target.result
                        document.querySelector(".pet_img #pet_img").style = `display: block`
                        document.querySelector(".pet_img .icon").style = `display: none`
                    };
                    reader.readAsDataURL(file);
                } else {
                    document.getElementById("fileName").textContent = "No file selected.";
                }
            });
        })
    </script>
    <script src="./main.js"></script>
</body>

</html>