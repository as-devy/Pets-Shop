<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="./imgs/favicon.ico">
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/icons.css">
    <link rel="stylesheet" href="./css/home.css">
    <title>Paws Safe</title>
</head>

<body>
    <div class="preloader">
        <img src="./imgs/preloader.gif" alt="">
    </div>

    <header>
        <div class="container">
            <div class="lg" style="width: 268px;">
                <a href="./" class="logo">
                    <img src="./imgs/logo.png" alt="pawsafe">
                    <h3>Paws Safe</h3>
                </a>
            </div>
            <ul class="nav">
                <li><a class="active" href="./index.html"><i class="fa-solid fa-house"></i> Home</a></li>
                <li><a href="./foster.html" id="fosterLink"><i class="fa-solid fa-paw"></i> Foster</a></li>
                <li><a href="./rehoming.html" id="rehomeLink"><i class="fa-solid fa-hand-holding-heart"></i>
                        Adoption</a></li>
                <li> <a href="./postpet.html" class="post_pet "><i class="fas fa-upload"></i> Post Pet </a></li>
                <li><a href="./index.html#contact_us"><i class="fas fa-phone"></i> Contact Us</a></li>
            </ul>
            <div class="auth">

                <div class="register">

                    <a href="./login.html" class="login">Login</a>
                    <a href="./signup.html" class="signup"><i class="fa-solid fa-user"></i> Sign Up</a>
                </div>

                <div style="display: flex; align-items: center; gap:1rem">
                    <button class="notif d_none" id="notif_btn"><i class="fa-solid fa-bell"></i>
                        <span class="notif_length"></span>
                    </button>

                    <div id="user_personal" class="d_none">Hi, <b id="user_name"></b> <i
                            class="fa-solid fa-caret-down"></i></div>
                </div>
                <div class="personal_info ">
                    <div class="info"><span>Email:</span> <b id="user-email"></b></div>
                    <div class="action_btns">
                        <a href="./admin_dashboard.html" id="dashboard_btn" class="verify_account d_none"><i
                                class="fa-solid fa-badge-check"></i> Dashboard</a>
                        <a href="./mypets.html" class="verify_account"><i class="fa-solid fa-paw"></i> My Pets</a>
                        <a href="./verification.html" id="get_verify_btn" class="verify_account"><i
                                class="fa-solid fa-badge-check"></i> Get
                            Verified</a>
                        <a href="#" class="logout"><i class="fa-solid fa-right-from-bracket"></i> Logout </a>
                    </div>
                </div>
                <div class="notif_list" id="notif_list">
                    <div style="display: flex;align-items: center;justify-content: space-between;margin-bottom: 10px;">
                        <h3>Notifications</h3>
                        <a href="#" class="d_none" id="clear_notifis">Clear All</a>
                    </div>
                    <p class="info d_none" style="color: #505050;padding: 8px;">You Don't Have Notifications.</p>
                    <ul>

                    </ul>
                </div>

            </div>
        </div>
    </header>

    <main class="landing">
        <div class="container">
            <div class="text">
                <h1>Connecting Pets with Loving Homes!</h1>
                <p>Need to Rehome? Post Your Pet. Looking to Help? Adopt or Foster!</p>
                <div class="search">
                    <div class="custom-select" style="width: 260px;">
                        <select id="countrySelection">
                            <option value="all" selected>All Countries</option>

                        </select>
                    </div>

                    <!-- <div class="input">
                        <input type="text" placeholder="Select Your Desire Pet...">
                    
                    </div> -->


                    <div class="custom-select" style="width:170px; font-weight:bold;">
                        <select id="categorySelection">
                            <option value="dog" selected>Dog</option>
                            <option value="cat">Cat</option>
                            <option value="rabbit">Rabbit</option>
                            <option value="bird">Bird</option>
                            <option value="fish">Fish</option>
                            <option value="other">Other</option>
                        </select>
                    </div>

                    <div class="custom-select" style="width:170px; font-weight:bold;">
                        <select id="type_selection">
                            <option value="adopt" selected>Adopt</option>
                            <option value="foster">Foster</option>

                        </select>
                    </div>
                    <button class="searchButton">
                        <i class="fa-solid fa-magnifying-glass"></i>
                    </button>
                </div>
            </div>
            <div class="frame-container">
                <div class="frame">
                    <div class="img">
                        <img src="./imgs/dog.png" alt="Dog Icon" class="dog-icon">
                    </div>
                    <span>Dogs</span>
                </div>
                <div class="frame">
                    <div class="img">
                        <img src="./imgs/cat.png" alt="Cat Icon" class="cat-icon">
                    </div>
                    <span>Cats</span>
                </div>
                <div class="frame">
                    <div class="img">
                        <img src="./imgs/bird.png" alt="Bird Icon" class="bird-icon">
                    </div>
                    <span>Birds</span>
                </div>
                <div class="frame">
                    <div class="img">
                        <img src="./imgs/rabbit.png" alt="Rabbit Icon" class="rabbit-icon">
                    </div>
                    <span>Rabbit</span>
                </div>
                <div class="frame">
                    <div class="img">
                        <img src="./imgs/fish.png" alt="Fish Icon" class="fish-icon">
                    </div>
                    <span>Fish</span>
                </div>
                <div class="frame">
                    <div class="img">
                        <img src="./imgs/paw-outline.svg" alt="Fish Icon" class="fish-icon">
                    </div>
                    <span>Other</span>
                </div>
            </div>
        </div>

        <img class="overlay vector_1" src="./imgs/vector1.png" alt="">
        <img class="overlay vector_2" src="./imgs/vector2.png" alt="">
        <img src="./imgs/hero-img-1.webp" alt="" class="overlay dog">
    </main>
    <section class="our-benefits">
        <div class="container">
            <div class="title">
                <span>WHAT WE DO</span>
                <h1>Our Benefits</h1>
                <p>At PawsSafe, we make pet rehoming, adoption, and fostering safe, simple, and accessible anywhere.
                    Whether you need to find a new home for your pet or welcome one into yours, our platform ensures a
                    trusted and supportive process.</p>
            </div>
            <div class="benefits">
                <div class="col">
                    <div class="benefit">
                        <div class="icon">
                            <i class="fa-solid fa-house"></i>
                        </div>
                        <div class="text">
                            <h3>A New Home</h3>
                            <p>We ensure pets find safe, loving homes with responsible adopters through a secure and
                                verified process.</p>
                        </div>
                    </div>
                    <div class="benefit">
                        <div class="icon">
                            <i class="fas fa-hand-holding-dollar"></i>
                        </div>
                        <div class="text">
                            <h3>Financial Aid Resources </h3>
                            <p>Explore trusted resources offering financial support for pet care, including emergencies
                                and basic needs.</p>
                        </div>

                    </div>
                </div>
                <div class="img"> <img src="./imgs/benefits.png" alt=""> </div>
                <div class="col">
                    <div class="benefit">
                        <div class="icon">
                            <i class="fas fa-globe"></i>
                        </div>
                        <div class="text">
                            <h3>Accessible Anywhere </h3>
                            <p>PawsSafe connects pet owners, adopters, and fosters nationwide, making it easy to find
                                the right
                                pet or home, no matter your location.
                            </p>
                        </div>



                    </div>
                    <div class="benefit">
                        <div class="icon">
                            <i class="fas fa-paw"></i>
                        </div>
                        <div class="text">
                            <h3>Pet Care Tips </h3>
                            <p>Access expert-backed pet care guides covering nutrition,
                                training, health, and behavior to help pets thrive in their new homes.</p>
                        </div>

                    </div>
                </div>
            </div>
    </section>

    <section class="journey">
        <div class="works">
            <h2>Your Journey to Adopt, Foster, or Rehome a Pet</h2>
            <p>At PawsSafe, we believe every pet deserves a safe, loving home. Whether you're looking to adopt, foster,
                or find a new home for your beloved pet, we’re here to make the process smooth, supportive, and full of
                heart.</p>
        </div>
        <div class="container">
            <div class="articles">
                <div class="article">
                    <img src="./imgs/article1.png" alt="">
                    <div class="text">
                        <div style="display: flex;align-items: center;justify-content: center;gap: 2rem;">
                            <h3 class="Jtitle">For Pet Owners: Post and Connect</h3>
                            <p
                                style="font-size: 11px; background: #007874; color: #fff; border-radius: .4rem; padding: 5px 8px; gap: .5rem; align-items: center; display: flex ;">
                                <i class="fa-solid fa-badge-check"></i> Get Verified To Access This Process
                            </p>
                        </div>
                        <!-- <p>To attract suitable adopters, create detailed profile of your pet. Make sure you include:</p> -->
                        <ol>
                            <li><b>Create Your Pet's Profile:</b> Share your pet’s story, photos, and important details
                                to help them find the right home.</li>
                            <li><b>Activate the Emergency Button (Only for Urgent Cases):</b> If you urgently need to
                                rehome your pet, activate the Emergency Button to boost visibility and receive faster
                                support.</li>
                            <li><b>Receive and Review Requests:</b> Interested adopters and fosters will submit a
                                request form through our website. You’ll review applications and choose the best fit for
                                your pet.</li>
                            <li><b>Approve and Connect:</b></li>
                            <li style="padding-left: 20px; display: inline-block;">Once you approve a request, you can
                                either contact the user directly through the platform, or the user can send you a
                                message via our website to start the conversation.</li>
                            <li style="padding-left: 20px; display: inline-block;">We securely provide your email
                                address and phone number to the approved user to help arrange a meet-up location and
                                complete the process.</li>
                        </ol>
                    </div>
                </div>

                <div class="article reverse">
                    <img src="./imgs/article2.png" alt="">
                    <div class="text">
                        <h3 class="Jtitle">For Adopters and Fosters: Request and Meet</h3>

                        <ol>
                            <li><b>Find a Pet You Love:</b> Browse through available pets looking for a permanent or
                                temporary home.</li>
                            <li><b>Submit a Request Form:</b>Fill out a simple form directly from the pet’s profile
                                page.</li>
                            <li><b>Wait for Approval: </b>The pet owner will review your application and decide if
                                you're the right match.</li>
                            <li><b>Connect with the Owner:</b></li>
                            <li style="padding-left: 20px; display: inline-block;">If your request is approved, you can either wait for the owner to contact you, or 
                                you can send an email directly to the owner through our website.</li>
                            <li style="padding-left: 20px; display: inline-block;">You will receive their email address and phone number to help arrange a safe meet-up and 
                                complete the adoption or fostering process.</li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>
    </section>

    


    <section class="petlist">
        <div class="container">
            <div class="title">
                <span>Pets Need You Now – Adopt or Foster Today</span>
                <h1>Emergency Pet Rehoming</h1>
            </div>
            <div class="list">
                <!-- <div class="pet">
                    <div class="img">
                        <img src="https://ingridkuhn.com/themes/petlove/img/adopt/adopt4.jpg" alt="">
                        <span class="category">Adoption</span>
                    </div>
                    <div class="text">
                        <h2 class="name">Jonas</h2>
                        <span class="age">Three month</span>
                        <p class="location"><i class="fa-solid fa-location-dot"></i>
                            <span> Giza,Egypt </span>
                        </p>
                        <p class="desc">Lorem ipsum dolor, sit amet consectetur adipisicing elit. Reiciendis possimus
                            nulla
                            tempore rem ullam delectus asperiores in est natus voluptatibus</p>
                    </div>
                    <a href="#">more info </a>
                </div> -->
            </div>
        </div>

    </section>

    <section class="adopt-section">
        <!-- <div class="container"> -->
        <div class="overlay">
            <h2>Pet Support & Resources</h2>
            <!-- <h3>Struggling with pet care costs or need advice? Find trusted financial aid programs, care tips, and join our community forum.</h3> -->
            <span>Struggling with pet care costs or need advice? Find trusted financial aid programs, care tips, and
                join our community forum.</h3>
            </span>

            <a href="./communitySupport.html" class="contact-btn">Explore Resources</a>
        </div>
        <!-- </div> -->
    </section>

    <section>
        <div class="banner-container">
            <div class="banner">
                <div class="imgwomen"> <img src="./imgs/banner.jpg" alt="Woman with Dog"></div>
                <div class="content1">
                    <div class="bf">
                        <h4>Adopting means giving a pet a second chance. Many animals lose their homes for reasons they
                            can’t control. When you adopt, you save a life and make room in shelters for others.
                            It’s kind, affordable, and life-changing—for both you and the pet.</h4>
                    </div>
                    <a href="./rehoming.html" class="button red-button">Adopt a Pet→</a>
                </div>
            </div>

            <div class="banneryellow">
                <div class="imgdog"> <img src="imgs/banner2.jpg" alt="Dog and Cat"> </div>
                <div class="content2">
                    <div class="bff">
                        <h4>Fostering means giving a pet a temporary home. It helps animals feel safe, loved, and ready
                            for
                            adoption. It’s perfect if you can’t commit long-term but still want to help. One small act
                            can change
                            a pet’s future.</h4>
                    </div>
                    <a href="./foster.html" class="button black-button">Foster a Pet →</a>
                </div>
            </div>
        </div>
    </section>


    <section class="donation_section" id="donation">
        <div class="donation">
            <div class="text">
                <h2>Make a Donation</h2>
                <p>You can support our work by bank transfer. Your donation helps more pets find safe, loving homes,
                    supports pet owners in need, and keeps our community resources running. Every contribution—big or
                    small—truly makes a difference.</p>

                <div class="bank-details">
                    <span><strong>Bank Name:</strong> Animal Welfare Bank</span>
                    <span><strong>Account Name:</strong> PawsSafe Donations</span>
                    <span><strong>Account Number:</strong> 12345678</span>
                    <span><strong>Sort Code:</strong> 00-00-00</span>
                    <span><strong>Reference:</strong> YourName-Donation</span>
                </div>

                <!-- <a href="#" class="contactbotton">Contact us</a> -->
            </div>

            <img src="imgs/donate.png" alt="">

        </div>

    </section>

    <section id="counter_section">

        <div class="stats-container">
            <div class="stat">
                <div id="adopted-count" class="counter">0</div>
                <div class="type">Pets Adopted</div>
            </div>
            <div class="stat">
                <div id="Vol-count" class="counter">0</div>
                <div class="type">Pets Fostered</div>
            </div>
            <div class="stat">
                <div id="exp-count" class="counter">0</div>
                <div class="type">1 years of experience</div>

            </div>
        </div>



    </section>

    <section>
        <div class="form">
            <div class="form-container">

                <form id="contact_us">
                    <h2>Send us a message</h2>

                    <label for="name">Name:</label>
                    <input type="text" id="contact_username" name="name" required>

                    <label for="email">Email address:</label>
                    <input type="email" id="contact_user_email" name="email" required>

                    <label for="message">Message:</label>
                    <textarea id="contact_message" name="message" rows="4" required></textarea>

                    <button id="sendEmailBtn" type="submit">Send</button>
                </form>
            </div>

            <div class="image-container">
                <img src="./imgs/faq.webp" alt="Dog and Cat">
            </div>
        </div>
    </section>

    <div id="email_notice">
        <i class="fa-solid fa-check"></i>
        <h4>Email Sended Successfully</h4>
    </div>

    <footer>
        <div class="container">
            <a href="./" class="logo">
                <img src="./imgs/logo.png" alt="pawsafe">
                <h3>Paws Safe</h3>
            </a>

            <div class="col">
                <h2>Pages</h2>
                <ul class="links">
                    <li><a href="./index.html">Home</a></li>
                    <li><a href="./foster.html">Foster</a></li>
                    <li><a href="./rehoming.html">Adoption</a></li>
                    <li><a href="./postpet.html">Post Pet</a></li>
                </ul>
            </div>

            <div class="col">
                <h2>Help & Support</h2>
                <ul class="links">
                    <li><a href="./index.html#donation">Make A Donation</a></li>
                    <li><a href="./communitySupport.html">Community Support</a></li>
                    <li><a href="./terms.html">Terms & Conditions</a></li>
                    <li><a href="./index.html#contact_us">Contact Us</a></li>
                </ul>
            </div>
        </div>

        <div class="copyright">
            <p class="builter">Designed & Developed By <span>Jana</span></p>
            <p style="color: #c1c1c1;">&copy; All Copyrights To Paws Safe 2025</p>
        </div>
    </footer>
    <script>


        function animateCounter(id, end) {
            const element = document.getElementById(id);
            const start = 0;
            const duration = 700;
            let startTimestamp = null;
            const step = (timestamp) => {
                if (!startTimestamp) startTimestamp = timestamp;
                const progress = Math.min((timestamp - startTimestamp) / duration, 1);
                element.textContent = Math.floor(progress * (end - start) + start);
                if (progress < 1) {
                    requestAnimationFrame(step);
                }
            };
            requestAnimationFrame(step);
        }
        let counted = false;



        document.querySelector(".searchButton").addEventListener("click", () => {
            const typeSelection = document.querySelector("#type_selection").value
            const countrySelection = document.querySelector("#countrySelection").value
            const categorySelection = document.querySelector("#categorySelection").value
            console.log(typeSelection)
            if (typeSelection == "adopt") {
                window.location.href = `./rehoming.html?country=${countrySelection}&category=${categorySelection}`

            } else {
                window.location.href = `./foster.html?country=${countrySelection}&category=${categorySelection}`
            }
        })

        document.querySelector("#sendEmailBtn").addEventListener("click", () => {
            document.querySelector("#sendEmailBtn").textContent = "Sending Email..."
            document.querySelector("#sendEmailBtn").setAttribute("disabled", true)
            document.querySelector("#sendEmailBtn").classList.add("disabled")
            const contact_username = document.querySelector("#contact_username").value

            fetch("https://82.26.74.49:4000/sendEmail", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    to: "janjonakamal@gmail.com",
                    from: document.querySelector("#contact_user_email").value,
                    subject: `Message from ${contact_username}`,
                    text: document.querySelector("#contact_message").value,
                })
            }).then(response => response.json())
                .then(data => {
                    if (data.sended) {
                        document.querySelector("#sendEmailBtn").textContent = "Send"
                        document.querySelector("#sendEmailBtn").setAttribute("disabled", false)
                        document.querySelector("#sendEmailBtn").classList.remove("disabled")
                        document.querySelector("#email_notice").classList.add("active")
                        setTimeout(() => {
                            document.querySelector("#email_notice").classList.remove("active")
                        }, 5000)
                    }
                }).catch(error => console.error("Error:", error));
        })

        let pets = [];
        let pets_countries = [];

        fetch("https://82.26.74.49:4000/allPets")
            .then(response => {
                if (!response.ok) {
                    throw new Error(`HTTP error! Status: ${response.status}`);
                }
                return response.json();
            })
            .then(data => {
                if (data) {
                    const allPets = data;
                    let adoptedPets = 0;
                    let fosterPets = 0;
                    allPets.map(pet => {
                        pets_countries.push(pet.country)
                        // COUNT THE Adopted PETS
                        if (pet.requested) {
                            if (pet.rehoming) {
                                adoptedPets++;
                            }
                            fosterPets++;

                        }
                    })
                    window.addEventListener("scroll", function () {
                        const section = document.getElementById("counter_section");
                        const sectionTop = section.getBoundingClientRect().top;
                        const triggerPoint = window.innerHeight;

                        if (sectionTop < triggerPoint && !counted) {
                            counted = true;
                            animateCounter("adopted-count", adoptedPets);
                            animateCounter("Vol-count", fosterPets);
                            animateCounter("exp-count", 1);
                        }
                    });
                    pets_countries = [...new Set(pets_countries)]
                    pets_countries.forEach(country => {
                        document.querySelector("#countrySelection").innerHTML += `<option value="${country.toLowerCase().replace(" ", "_")}">${country}</option>`
                    });

                    pets = data.slice(0, 9);
                    pets.map(pet => {
                        if (pet.emergency) {
                            const petElement = document.createElement("div")
                            petElement.innerHTML = `
                        <div class="pet">
                            <div class="img">
                                <img src="${pet.img}" alt="">
                                <span class="category"> ${pet.emergency ? `<span class="emgIcon"> <i class="fa-solid fa-light-emergency-on"></i></span>` : ""} ${pet.foster ? "Foster" : ""} ${pet.rehoming ? "Adopt" : ""}</span>
                            </div>
                            <div class="text">
                                <h2 class="name">${pet.name}</h2>
                                <span class="age">${pet.age} Years Old</span>
                                <p class="location"><i class="fa-solid fa-location-dot"></i>
                                    <span>${pet.country}, ${pet.city}</span>
                                </p>
                                <p class="desc">${pet.description}</p>
                            </div>
                           <a href="./viewPet.html?petId=${pet.id}">more info</a>
                        </div>
                    `
                            document.querySelector(".petlist .list").append(petElement)
                        }

                    })
                } else {
                    document.querySelector(".petlist .list").innerHTML = "<p class='msg_defined'>Oops! We couldn’t find any pets matching your search</p>"
                }
            })
            .catch(error => {
                console.error("Error fetching pets:", error);
                document.querySelector(".petlist .list").innerHTML = "<p class='msg_defined'>Internal Server Error!</p>"
            });

        //             document.addEventListener('DOMContentLoaded', () => {
        //    fetch("http://82.26.74.49:4000/country") // Ensure this matches your server's URL
        //        .then(response => response.json())
        //         .then(data => {
        //            const select = document.getElementById('countrySelection');
        //             data.forEach(item => {
        //                const option = document.createElement('option');
        //                option.value = item.country.toLowerCase().replace(/\s+/g, '-');
        //               option.textContent = item.country;
        //                select.appendChild(option);
        //           });
        //        })
        //         .catch(err => console.error('Error loading countries:', err));
        // });


    </script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/odometer.js/0.4.7/odometer.min.js"
        integrity="sha512-v3fZyWIk7kh9yGNQZf1SnSjIxjAKsYbg6UQ+B+QxAZqJQLrN3jMjrdNwcxV6tis6S0s1xyVDZrDz9UoRLfRpWw=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script> -->
    <script src="./main.js"></script>

</body>

</html>
